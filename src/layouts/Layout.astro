---
import { getSiteConfig } from '@config/site';
import '@styles/global.css';
import Cart from '../components/Cart';

export interface Props {
  title: string;
  description?: string;
  image?: string;
}

const { title, description = 'Your friendly neighborhood store' } = Astro.props;
const siteConfig = getSiteConfig();
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/svg+xml"
      href={siteConfig.favicon ?? '/favicon.svg'}
    />
    <title>{title}</title>
  </head>
  <body>
    <slot />

    <!-- Cart Component -->
    <Cart client:only="react" />
  </body>
</html>

{/* eslint-disable astro/no-unused-define-vars-in-style */}
<style
  define:vars={{
    '--color-primary': siteConfig.theme.colors.primary,
    '--color-secondary': siteConfig.theme.colors.secondary,
    '--color-accent': siteConfig.theme.colors.accent,
    '--color-background': siteConfig.theme.colors.background,
    '--color-surface': siteConfig.theme.colors.surface,
    '--color-text': siteConfig.theme.colors.text,
    '--color-text-secondary': siteConfig.theme.colors.textSecondary,
    '--font-heading': siteConfig.theme.fonts.heading,
    '--font-body': siteConfig.theme.fonts.body,
    '--border-radius': siteConfig.theme.borderRadius,
    '--spacing-xs': siteConfig.theme.spacing.xs,
    '--spacing-sm': siteConfig.theme.spacing.sm,
    '--spacing-md': siteConfig.theme.spacing.md,
    '--spacing-lg': siteConfig.theme.spacing.lg,
    '--spacing-xl': siteConfig.theme.spacing.xl,
  }}
>
  @import '../styles/global.css';
</style>
