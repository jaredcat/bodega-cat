---
import { getSiteConfig } from '../../config/site';
import Layout from '../../layouts/Layout.astro';

const siteConfig = getSiteConfig();
---

<Layout title="Store Settings">
  <div class="min-h-screen bg-gray-50">
    <!-- Admin Header -->
    <header class="bg-white shadow">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-6">
          <div>
            <h1 class="text-3xl font-bold text-gray-900">Store Settings</h1>
            <p class="text-gray-600">Configure your store settings and preferences</p>
          </div>
          <a
            href="/admin"
            class="btn btn-outline"
          >
            Back to Dashboard
          </a>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- Store Information -->
      <div class="bg-white rounded-lg shadow mb-8">
        <div class="px-6 py-4 border-b border-gray-200">
          <h2 class="text-lg font-medium text-gray-900">Store Information</h2>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Store Name
              </label>
              <input
                type="text"
                value={siteConfig.name}
                class="input"
                placeholder="Your store name"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Store Description
              </label>
              <input
                type="text"
                value={siteConfig.description}
                class="input"
                placeholder="Brief description of your store"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Logo URL
              </label>
              <input
                type="url"
                value={siteConfig.logo}
                class="input"
                placeholder="https://example.com/logo.png"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Favicon URL
              </label>
              <input
                type="url"
                value={siteConfig.favicon}
                class="input"
                placeholder="https://example.com/favicon.ico"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Theme Settings -->
      <div class="bg-white rounded-lg shadow mb-8">
        <div class="px-6 py-4 border-b border-gray-200">
          <h2 class="text-lg font-medium text-gray-900">Theme Settings</h2>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Primary Color
              </label>
              <div class="flex items-center space-x-2">
                <input
                  type="color"
                  value={siteConfig.theme.colors.primary}
                  class="w-12 h-10 rounded border"
                />
                <input
                  type="text"
                  value={siteConfig.theme.colors.primary}
                  class="input flex-1"
                  placeholder="#3B82F6"
                />
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Secondary Color
              </label>
              <div class="flex items-center space-x-2">
                <input
                  type="color"
                  value={siteConfig.theme.colors.secondary}
                  class="w-12 h-10 rounded border"
                />
                <input
                  type="text"
                  value={siteConfig.theme.colors.secondary}
                  class="input flex-1"
                  placeholder="#6B7280"
                />
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Accent Color
              </label>
              <div class="flex items-center space-x-2">
                <input
                  type="color"
                  value={siteConfig.theme.colors.accent}
                  class="w-12 h-10 rounded border"
                />
                <input
                  type="text"
                  value={siteConfig.theme.colors.accent}
                  class="input flex-1"
                  placeholder="#F59E0B"
                />
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Border Radius
              </label>
              <select class="input">
                <option value="0">None</option>
                <option value="0.25rem">Small</option>
                <option value="0.5rem" selected>Medium</option>
                <option value="0.75rem">Large</option>
                <option value="1rem">Extra Large</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <!-- Stripe Configuration -->
      <div class="bg-white rounded-lg shadow mb-8">
        <div class="px-6 py-4 border-b border-gray-200">
          <h2 class="text-lg font-medium text-gray-900">Payment Settings</h2>
        </div>
        <div class="p-6">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Stripe Publishable Key
              </label>
              <input
                type="text"
                value={siteConfig.stripe.publishableKey}
                class="input"
                placeholder="pk_test_..."
                readonly
              />
              <p class="mt-1 text-sm text-gray-500">
                This is configured via environment variables
              </p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Webhook Secret
              </label>
              <input
                type="password"
                value={siteConfig.stripe.webhookSecret}
                class="input"
                placeholder="whsec_..."
                readonly
              />
              <p class="mt-1 text-sm text-gray-500">
                This is configured via environment variables
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Product Types -->
      <div class="bg-white rounded-lg shadow mb-8">
        <div class="px-6 py-4 border-b border-gray-200">
          <h2 class="text-lg font-medium text-gray-900">Product Types</h2>
        </div>
        <div class="p-6">
          <div class="space-y-4">
            {siteConfig.productTypes.map((productType) => (
              <div class="border rounded-lg p-4">
                <div class="flex justify-between items-start">
                  <div>
                    <h3 class="text-lg font-medium text-gray-900">{productType.name}</h3>
                    <p class="text-sm text-gray-500">{productType.description}</p>
                    {productType.variations.length > 0 && (
                      <div class="mt-2">
                        <p class="text-sm text-gray-600">
                          Variations: {productType.variations.map(v => v.name).join(', ')}
                        </p>
                      </div>
                    )}
                  </div>
                  <button class="btn btn-outline btn-sm">
                    Edit
                  </button>
                </div>
              </div>
            ))}
            <button class="btn btn-primary">
              Add New Product Type
            </button>
          </div>
        </div>
      </div>

      <!-- Save Button -->
      <div class="flex justify-end">
        <button class="btn btn-primary">
          Save Settings
        </button>
      </div>
    </main>
  </div>
</Layout>
